# ============================================================================
# Basil Voice Studio - Environment Configuration (v2.0)
# ============================================================================
# Copy this file to .env and fill in your values
# IMPORTANT: Never commit .env to version control!

# ============================================================================
# Application Settings
# ============================================================================
NODE_ENV=development
PORT=4000
LOG_LEVEL=debug

# ============================================================================
# Database (PostgreSQL)
# ============================================================================
# Connection string format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://basil:basil_password_change_me@localhost:5432/basil

# For Docker Compose
POSTGRES_USER=basil
POSTGRES_PASSWORD=basil_password_change_me
POSTGRES_DB=basil
POSTGRES_PORT=5432

# ============================================================================
# Redis Cache
# ============================================================================
REDIS_URL=redis://localhost:6379
REDIS_ENABLED=true
REDIS_PASSWORD=
REDIS_PORT=6379

# ============================================================================
# Authentication & Security
# ============================================================================
# IMPORTANT: Generate a strong secret for production!
# You can use: openssl rand -base64 32
JWT_SECRET=super-secret-key-change-in-production

# JWT token expiration (default: 1 hour)
JWT_EXPIRES_IN=1h

# CORS allowed origins (comma-separated)
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# ============================================================================
# Error Tracking (Sentry)
# ============================================================================
# Optional: Sign up at https://sentry.io
SENTRY_DSN=

# ============================================================================
# AI Service Providers
# ============================================================================

# Enable real AI adapters (vs mock adapters for testing)
USE_REAL_ADAPTERS=true

# STT (Speech-to-Text) Provider
# Options: assemblyai, google, whisper
STT_PROVIDER=assemblyai

# TTS (Text-to-Speech) Provider
# Options: google, piper
TTS_PROVIDER=google

# Guest LLM Provider
# Options: groq, together, openai, local
GUEST_PROVIDER=groq

# ============================================================================
# API Keys
# ============================================================================

# Anthropic (Claude - required for main AI)
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# AssemblyAI (recommended for STT)
# Get your key at: https://www.assemblyai.com/
ASSEMBLYAI_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Groq (recommended for fast guest LLM)
# Get your key at: https://console.groq.com/
GROQ_API_KEY=gsk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Together.ai (alternative guest LLM provider)
# Get your key at: https://api.together.xyz/
TOGETHER_API_KEY=

# OpenAI (alternative guest LLM provider)
# Get your key at: https://platform.openai.com/
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Google Cloud (for STT/TTS)
# Path to your service account JSON file
# Get credentials at: https://console.cloud.google.com/
GOOGLE_APPLICATION_CREDENTIALS=./google-credentials.json

# ============================================================================
# Local Services (Optional)
# ============================================================================

# Local Whisper STT server endpoint
WHISPER_ENDPOINT=http://localhost:8001/transcribe

# Local llama.cpp LLM server endpoint
LOCAL_LLAMA_ENDPOINT=http://localhost:8080/v1

# ============================================================================
# File Storage
# ============================================================================

# Directory for recording files
RECORDING_DIR=./recordings

# Directory for episode briefings
BRIEFINGS_DIR=./briefings

# ============================================================================
# Frontend Configuration
# ============================================================================

# Backend API URL (used by frontend)
NEXT_PUBLIC_BACKEND_URL=http://localhost:4000

# WebSocket URL (used by frontend)
NEXT_PUBLIC_WS_URL=ws://localhost:4000

# ============================================================================
# Docker Configuration (for docker-compose)
# ============================================================================

BACKEND_PORT=4000
FRONTEND_PORT=3000

# ============================================================================
# Monitoring (Optional)
# ============================================================================

# Grafana admin credentials
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# ============================================================================
# Development Settings
# ============================================================================

# Pretty print logs in development
PINO_PRETTY=true

# Debug mode for specific modules (comma-separated)
DEBUG=

# ============================================================================
# Production Recommendations
# ============================================================================
# For production deployments:
#
# 1. Security:
#    - Generate strong JWT_SECRET (openssl rand -base64 32)
#    - Set strong POSTGRES_PASSWORD
#    - Set REDIS_PASSWORD
#    - Restrict CORS_ORIGIN to your actual domain
#    - Enable SENTRY_DSN for error tracking
#
# 2. Database:
#    - Use managed PostgreSQL (AWS RDS, Google Cloud SQL, etc.)
#    - Enable SSL connections
#    - Set up regular backups
#
# 3. Caching:
#    - Use managed Redis (AWS ElastiCache, Redis Cloud, etc.)
#    - Enable persistence (already configured in docker-compose)
#
# 4. Environment:
#    - Set NODE_ENV=production
#    - Set LOG_LEVEL=info (or warn for less logging)
#    - Disable PINO_PRETTY for better performance
#
# 5. API Keys:
#    - Use environment variable injection (not .env files)
#    - Rotate keys regularly
#    - Use different keys for different environments
#
